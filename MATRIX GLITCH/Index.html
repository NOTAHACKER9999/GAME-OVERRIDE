<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DuckDuckGo Overlay</title>
<style>
    html, body {
        height: 100%;
        width: 100%;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #111;
        color: #fff;
        font-family: Arial, sans-serif;
    }
    button {
        padding: 20px 40px;
        font-size: 1.5rem;
        cursor: pointer;
        border: none;
        border-radius: 10px;
        background-color: #0077cc;
        color: white;
    }
    button:hover {
        background-color: #005fa3;
    }
</style>
</head>
<body>
    <button id="open">Open DuckDuckGo</button>

    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.5/full/pyodide.js"></script>
    <script>
        async function loadAndRunPython() {
            try {
                // Load Pyodide
                const pyodide = await loadPyodide();

                // Fetch Python code from GitHub
                const pythonUrl = "https://raw.githubusercontent.com/NOTAHACKER9999/GAME-OVERRIDE/refs/heads/main/Proxy/Python/Duckduckgo.py";
                let response;
                try {
                    response = await fetch(pythonUrl);
                } catch (fetchErr) {
                    alert("Failed to fetch Python code from GitHub. Opening DuckDuckGo directly.");
                    window.open("https://duckduckgo.com", "_blank");
                    return;
                }

                if (!response.ok) {
                    alert("GitHub fetch returned error. Opening DuckDuckGo directly.");
                    window.open("https://duckduckgo.com", "_blank");
                    return;
                }

                const pythonCode = await response.text();

                // Run Python code safely
                try {
                    await pyodide.runPythonAsync(pythonCode);
                } catch (pyErr) {
                    console.error(pyErr);
                    alert("Python execution failed. Opening DuckDuckGo directly.");
                    window.open("https://duckduckgo.com", "_blank");
                }

            } catch (err) {
                console.error(err);
                alert("Pyodide failed to load. Opening DuckDuckGo directly.");
                window.open("https://duckduckgo.com", "_blank");
            }
        }

        // Attach to button click (bypasses popup blockers)
        document.getElementById("open").addEventListener("click", loadAndRunPython);
    </script>
</body>
</html>
